[{"/Users/sergeikomarov/Desktop/learn-react-grpc/src/index.js":"1","/Users/sergeikomarov/Desktop/learn-react-grpc/src/components/App.js":"2","/Users/sergeikomarov/Desktop/learn-react-grpc/src/grpc/todo_pb.js":"3","/Users/sergeikomarov/Desktop/learn-react-grpc/src/grpc/todo_grpc_web_pb.js":"4","/Users/sergeikomarov/Desktop/learn-react-grpc/src/redux/store.js":"5","/Users/sergeikomarov/Desktop/learn-react-grpc/src/redux/rootReducer.js":"6","/Users/sergeikomarov/Desktop/learn-react-grpc/src/redux/slices/todoSlice.js":"7","/Users/sergeikomarov/Desktop/learn-react-grpc/src/i18n/i18n.js":"8"},{"size":481,"mtime":1607069825625,"results":"9","hashOfConfig":"10"},{"size":2489,"mtime":1607076513549,"results":"11","hashOfConfig":"10"},{"size":34306,"mtime":1607030407296,"results":"12","hashOfConfig":"10"},{"size":7543,"mtime":1607030405395,"results":"13","hashOfConfig":"10"},{"size":393,"mtime":1607031303238,"results":"14","hashOfConfig":"10"},{"size":193,"mtime":1607031865390,"results":"15","hashOfConfig":"10"},{"size":366,"mtime":1607076581103,"results":"16","hashOfConfig":"10"},{"size":675,"mtime":1607069731411,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1pnggvp",{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"20"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"/Users/sergeikomarov/Desktop/learn-react-grpc/src/index.js",[],["36","37"],"/Users/sergeikomarov/Desktop/learn-react-grpc/src/components/App.js",["38"],"import { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { setTodos } from \"../redux/slices/todoSlice\";\nimport {\n  GetTodosRequest,\n  AddTodoRequest,\n  FinishTodoRequest,\n} from \"../grpc/todo_pb.js\";\nimport { TodoServiceClient } from \"../grpc/todo_grpc_web_pb.js\";\n\nimport { useTranslation } from \"react-i18next\";\n\nconst client = new TodoServiceClient(\"http://localhost:8080\");\n\nfunction App() {\n  const [inputValue, setInputValue] = useState(\"\");\n  const dispatch = useDispatch();\n  const todos = useSelector((state) => state.todos);\n  const [t, i18n] = useTranslation();\n\n  const addTodo = () => {\n    const req = new AddTodoRequest();\n    req.setText(inputValue);\n    setInputValue(\"\");\n\n    client.addTodo(req, {}, (err, res) => {\n      if (err) console.error({ err });\n\n      const todo = res.toObject().todo;\n      console.log(\"NEW TODO: \", todo);\n\n      getTodos();\n    });\n  };\n\n  const getTodos = () => {\n    const request = new GetTodosRequest();\n    client.getTodos(request, {}, (err, response) => {\n      if (err) console.error(err);\n      if (response) {\n        const todosRes = response.toObject().todosList;\n        console.log(\"LIST OF TODOS: \", todosRes);\n        dispatch(setTodos(todosRes));\n      }\n    });\n  };\n\n  const clickHandler = () => {\n    if (inputValue.length === 0) return;\n    addTodo(inputValue);\n  };\n\n  const finishHandler = (id) => {\n    const request = new FinishTodoRequest();\n    request.setId(id);\n\n    client.finishTodo(request, {}, (err, response) => {\n      if (err) {\n        console.error(err);\n      }\n\n      const todo = response.toObject().todo;\n      console.log(\"FINISHED TODO: \", todo);\n\n      getTodos();\n    });\n  };\n\n  useEffect(() => {\n    getTodos();\n    i18n.changeLanguage(\"fr\");\n  }, []);\n\n  return (\n    <>\n      <h3>{t(\"Welcome to React\")}</h3>\n      <input\n        type=\"text\"\n        value={inputValue}\n        onChange={(e) => setInputValue(e.target.value)}\n      />\n      <button style={{ padding: 10 }} onClick={clickHandler}>\n        Add todo\n      </button>\n      {todos &&\n        todos.todos &&\n        todos.todos.map((elem) => {\n          let doneStyle = elem.done ? \"black\" : \"red\";\n          return (\n            <div\n              onClick={() => finishHandler(elem.id)}\n              key={elem.id}\n              style={{ color: doneStyle }}\n            >\n              {elem.text}\n            </div>\n          );\n        })}\n    </>\n  );\n}\n\nexport default App;\n","/Users/sergeikomarov/Desktop/learn-react-grpc/src/grpc/todo_pb.js",[],"/Users/sergeikomarov/Desktop/learn-react-grpc/src/grpc/todo_grpc_web_pb.js",[],"/Users/sergeikomarov/Desktop/learn-react-grpc/src/redux/store.js",[],"/Users/sergeikomarov/Desktop/learn-react-grpc/src/redux/rootReducer.js",[],"/Users/sergeikomarov/Desktop/learn-react-grpc/src/redux/slices/todoSlice.js",[],"/Users/sergeikomarov/Desktop/learn-react-grpc/src/i18n/i18n.js",[],{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","severity":1,"message":"44","line":73,"column":6,"nodeType":"45","endLine":73,"endColumn":8,"suggestions":"46"},"no-native-reassign",["47"],"no-negated-in-lhs",["48"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getTodos' and 'i18n'. Either include them or remove the dependency array.","ArrayExpression",["49"],"no-global-assign","no-unsafe-negation",{"desc":"50","fix":"51"},"Update the dependencies array to be: [getTodos, i18n]",{"range":"52","text":"53"},[1796,1798],"[getTodos, i18n]"]